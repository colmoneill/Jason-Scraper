{% block body %}
{% from "helpers/_form.html" import render_field %}
<div class="col-md-12">
  <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
  <form action="" method="post" enctype="multipart/form-data" id="artistForm">
    {{ form.csrf_token }}
    {{ render_field(form.name) }}
    <hr>
    <div class="row">
      <div class="col-md-12">
      <h4>Selectable images shown here</h4>
      <div id="artist-images">
        <label>Select exhibition images</label>
        <div class="thumbnail-container"></div>
        <hr>
        <br>
        <div>
          <p>
            <input type="file" class="filepicker hidden-filepicker" multiple="true" accept="image/*" />
            <button id="artist-image-upload" class="btn btn-default">Select images to upload</button>
            or drag-and-drop them on this container.
          </p>
        </div>
        <br>
        <hr>
        <div class="dropmask bg-info"></div>
      </div>
    </div>
    </div>
    <hr>
    <div class="container-fluid">
    <div class="row">
      <div class="col-md-6">
        <label>Artist info text</label> <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#headers">markdown enabled</a>
        {{ form.wysiwig_artist_info(only_input=True, rows=20) }}
      </div>
      <div class="col-md-6">
        <label>&larr; Text preview</label>
        {{ form.wysiwig_artist_info(only_preview=True) }}
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-xs-6">
        <label>Artist bio</label> <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#headers">markdown enabled</a>
        {{ form.wysiwig_artist_exhibitions_list(only_input=True, rows=20) }}
      </div>
      <div class="col-xs-6">
        <label>&larr; Text preview</label>
        {{ form.wysiwig_artist_exhibitions_list(only_preview=True) }}
      </div>
    </div>
    <br>
    <div class="row">
    <div class="col-xs-6">
      <label>Artist exhibition list</label> <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#headers">markdown enabled</a>
      {{ form.wysiwig_artist_bio(only_input=True, rows=20) }}
    </div>
      <div class="col-xs-6">
        <label>&larr; Text preview</label>
        {{ form.wysiwig_artist_bio(only_preview=True) }}
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <h4>Press release pdf</h4>
        {{ form.press_release_file }}
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <h4>media link 1</h4>
      </div>
        <div class="col-sm-6">
          {{ render_field(form.link_name1) }}
        </div>
        <div class="col-sm-6">
          {{ render_field(form.link_url1) }}
        </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <h4>media link 2</h4>
      </div>
        <div class="col-sm-6">
          {{ render_field(form.link_name2) }}
        </div>
        <div class="col-sm-6">
          {{ render_field(form.link_url2) }}
        </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <h4>media link 3</h4>
      </div>
        <div class="col-sm-6">
          {{ render_field(form.link_name3) }}
        </div>
        <div class="col-sm-6">
          {{ render_field(form.link_url3) }}
        </div>
    </div>
    <hr>

    <div class="col-sm-12">
    <h4>These exhibitions will be shown on the artist's page</h4>
    </div>
    {% for exhibition in exhibitions %}
      <div class="col-sm-12">
        {% if exhibition.is_group_expo %}
          <b>{{ exhibition.exhibition_name }}</b> (group exhibition) <br> participants: {{ exhibition['artists']|join(', ', attribute='name') }}
        {% else %}
            <b>{{ exhibition.artist.name }}</b> <br> {{ exhibition.exhibition_name }}
        {% endif%}
        <br> {{ exhibition.start.strftime('%d.%m.%Y') }} > {{ exhibition.end.strftime('%d.%m.%Y') }}
      </div>
      <br>
    {% endfor %}

    <hr>
    <div class="col-sm-12">
    <p><code>fields marked with a * are required</code></p>
    </div>
    <button type="submit" class="btn btn-default">Submit</button>
</form>
<script type="text/javascript" src="/static/js/upload.js"></script>
<script type="text/javascript">
    window.addEventListener("load", function () {
        uploadField("image", $("#artist-images"), $('form#artistForm'));
    }, false);
</script>
</div>
{% endblock %}
